# Результаты домашнего задания "10.01. Зачем и что нужно мониторить"

## Обязательные задания

1. Вас пригласили настроить мониторинг на проект. На онбординге вам рассказали, что проект представляет из себя
платформу для вычислений с выдачей текстовых отчетов, которые сохраняются на диск. Взаимодействие с платформой
осуществляется по протоколу http. Также вам отметили, что вычисления загружают ЦПУ. Какой минимальный набор метрик вы
выведите в мониторинг и почему?

    > 1. скорость записи/чтения на диск - чтобы вовремя исключить деградацию дисков
    > 2. свободное место на диске - чтобы не потерять данные при переполнении хранилища и обсепечить долговечность и быстродействие
    > 3. количество http запросов - определение нагрузки на систему
    > 4. время ответа http (http response time) - определение времени обработки запросов сервером
    > 5. коды ответа HTTP (http responce code) - определение правильности работы кода, запросов и количества не успешно выполненных запросов
    > 6. средние значения нагрузки (Load averages) - чтобы оценить динамику нагрузки и вовремя масштабировать систему
    > 7. показатель iowait - для контроля времени ответа системы
    > 8. inodes - если отчеты пишутся в большое количество маленьких файлов
    > 9. CPUla - для мониторинга за процессором

2. Менеджер продукта посмотрев на ваши метрики сказал, что ему непонятно что такое RAM/inodes/CPUla. Также он сказал,
что хочет понимать, насколько мы выполняем свои обязанности перед клиентами и какое качество обслуживания. Что вы
можете ему предложить?
    > Я бы мог предложить менеджеру продукта снимать бизнес-метрики, что бы отслеживать данные по пользователям, их притоку, оттоку, ежедневному среднему числу, отслеживать как часто пользователи сталкиваются с кодами ошибок системы, как быстро мы обрабатываем их запросы и т.д.
    >
    > Дать объяснение, что:  
    >
    > - **RAM**  - это объем оперативной памяти сервера;
    > - **inodes** - файловые дескрипторы, которые хранят информацию о файлах в системе на сервере, одна из проблем заключается в том, что inode могут закончиться и в этом случае нельзя будет создавать новый файл или каталог на устройстве, даже если на нем достаточно свободного места;
    > - **CPUla** - среднее значение загрузки системы сервера

3. Вашей DevOps команде в этом году не выделили финансирование на построение системы сбора логов. Разработчики в свою
очередь хотят видеть все ошибки, которые выдают их приложения. Какое решение вы можете предпринять в этой ситуации,
чтобы разработчики получали ошибки приложения?

    > Использовать бесплатный стек `ELK` с дашбордами `Kibana`.

4. Вы, как опытный SRE, сделали мониторинг, куда вывели отображения выполнения SLA=99% по http кодам ответов.
Вычисляете этот параметр по следующей формуле: summ_2xx_requests/summ_all_requests. Данный параметр не поднимается выше
70%, но при этом в вашей системе нет кодов ответа 5xx и 4xx. Где у вас ошибка?

    > В расчете SLA, кроме кодов 2xx должны учитываться коды 3xx (коды перенаправления) и 1xx (информационные коды).  
    > Формула должна выглядеть так:  
    > `summ_1xx_requests + summ_2xx_requests + summ_3xx_requests / summ_all_requests`
